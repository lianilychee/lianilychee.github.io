<html>

<head>
	<title>Freewall demo filter</title>
	<link rel="stylesheet" href="style.css" />
	<script src="../js/jquery.min.js"></script>
	<script src='../js/freewall.js'></script>
</head>

<body>

	<div class="layout">
		<div class="filter-items">
			<div class="filter-label active">All block</div>
			<div class="filter-label" data-filter=".size21">Block 2-1</div>
			<div class="filter-label" data-filter=".size22">Block 2-2</div>
			<div class="filter-label" data-filter=".size23">Block 2-3</div>
		</div>
		<div id="freewall" class="free-wall"></div>
	</div>

	<script>
		var temp = "<div class='brick {size}' style='background-color: {color}'><div class='cover'>{size}</div></div>";
		var sizes = ["size21", "size22", "size23"];

		var html = '', size = '', color = '', limitItem = 10;
		for (var i = 0; i < limitItem; ++i) {
			size = sizes[sizes.length * Math.random() << 0];
			color = "rgb(211, 84, 0)";
			html += temp.replace(/\{size\}/g, size).replace("{color}", color);
		}
		$("#freewall").html(html);
		
		$(function() {
			var wall = new freewall("#freewall");
			wall.reset({
				selector: '.brick',
				animate: true,
				cellW: 150,
				cellH: 150,
				fixSize: 0,
				onResize: function() {
					wall.refresh();
				}
			});
			wall.filter(); // Set default filter selection
			$(".filter-label").click(function() {
				$(".filter-label").removeClass("active");
				var filter = $(this).addClass('active').data('filter');
				if (filter) {
					wall.filter(filter);
				} else {
					wall.unFilter();
				}
			});

			wall.fitWidth();
		});
	</script>
</body>

</html>